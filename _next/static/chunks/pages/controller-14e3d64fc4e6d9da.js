(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[265],{1319:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/controller",function(){return n(6289)}])},6289:function(e,t,n){"use strict";n.r(t);var o=n(5893),r=n(2474),l=n(24),s=n(7294),c=n(2642),a=n(5371),i=n(8239),u=n(1290),_=n(1985),A=n.n(_);let d=()=>{let e=(0,s.useRef)(null),[t]=(0,l.KO)(a.L),[n,_]=(0,s.useState)(0),[d,f]=(0,s.useState)(null),h=(0,s.useRef)({x:0,y:0});(0,r.randomUUID)();let v=()=>{if(null!==e.current){let t=e.current.offsetWidth;_(t)}};if((0,s.useEffect)(()=>{let e=setInterval(v,100);return()=>{console.log("AAAAAAAAAAAAAAAAAAAAAA"),clearInterval(e)}},[]),!t)return(0,o.jsx)(i.g,{visible:!0});let j=async()=>{await u.x.rooms.gunPosition.$post()},x=async()=>{console.log("move",h.current)},k=()=>{let e=setInterval(x,50);f(e)},b=()=>{null!==d&&clearInterval(d)},m=e=>{var t,n;let o={x:Math.round(null!==(t=e.x)&&void 0!==t?t:0),y:-Math.round(null!==(n=e.y)&&void 0!==n?n:0)};h.current=o};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:A().container,children:(0,o.jsxs)("div",{className:A().board,children:[(0,o.jsx)("div",{ref:e,className:A().joystick,children:(0,o.jsx)(c.Tj,{size:n,stickSize:n/2,baseColor:"gray",stickColor:"black",baseShape:c.aR.Square,move:m,stop:b,start:k})}),(0,o.jsx)("button",{className:A().shoot,onClick:j})]})})})};t.default=d},1985:function(e){e.exports={container:"controller_container__cQDFp",board:"controller_board__cEojV",joystick:"controller_joystick__Y1wVn",shoot:"controller_shoot__Rrg9w"}}},function(e){e.O(0,[714,212,774,888,179],function(){return e(e.s=1319)}),_N_E=e.O()}]);